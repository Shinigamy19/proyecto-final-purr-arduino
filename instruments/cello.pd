#N canvas 822 196 979 840 10;
#N canvas 1033 497 614 395 sub.karplus 1;
#X obj 12 12 block~ 1 1 1;
#X obj 12 307 inlet~;
#X obj 54 349 delwrite~ \$0-karplus 100;
#X obj 62 98 delread4~ \$0-karplus;
#X obj 127 130 outlet~;
#X obj 62 51 sig~ 1000;
#X obj 62 77 /~;
#X obj 12 333 +~;
#X msg 394 159 0.001;
#X obj 394 180 log;
#X obj 375 54 r \$0-freq;
#X msg 360 96 1000 \$1;
#X obj 360 117 /;
#X obj 360 138 t f b;
#X obj 360 196 *;
#X obj 360 238 exp;
#X obj 196 61 inlet~;
#X obj 300 280 line~;
#X obj 62 317 *~;
#X obj 360 12 r \$0-gate;
#X obj 360 33 sel 0;
#X obj 360 75 f;
#X obj 300 217 r \$0-gate;
#X obj 300 238 sel 1;
#X msg 360 259 \$1 1;
#X obj 300 301 lop~ 100;
#X obj 62 296 expr~ tanh($v1);
#X obj 83 150 r \$0-freq;
#X msg 300 259 1 1;
#X obj 62 275 hip~ 50;
#X obj 62 246 lop~;
#X floatatom 83 192 5 0 0 0 - - -;
#X obj 104 246 / 64;
#X obj 104 225 r \$0-freq;
#X obj 83 212 clip 4000 7000;
#X obj 83 171 * 16;
#X obj 360 217 / 1000;
#X connect 1 0 7 0;
#X connect 3 0 4 0;
#X connect 3 0 30 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 7 0 2 0;
#X connect 8 0 9 0;
#X connect 9 0 14 1;
#X connect 10 0 21 1;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 13 1 8 0;
#X connect 14 0 36 0;
#X connect 15 0 24 0;
#X connect 16 0 6 1;
#X connect 17 0 25 0;
#X connect 18 0 7 1;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 11 0;
#X connect 22 0 23 0;
#X connect 23 0 28 0;
#X connect 24 0 17 0;
#X connect 25 0 18 1;
#X connect 26 0 18 0;
#X connect 27 0 35 0;
#X connect 28 0 17 0;
#X connect 29 0 26 0;
#X connect 30 0 29 0;
#X connect 31 0 34 0;
#X connect 32 0 29 1;
#X connect 33 0 32 0;
#X connect 34 0 30 1;
#X connect 35 0 31 0;
#X connect 36 0 15 0;
#X restore 657 573 pd sub.karplus;
#X obj 151 165 > 0;
#X obj 657 748 outlet~;
#X obj 94 12 inlet;
#X obj 94 33 unpack f f;
#X obj 735 648 r \$0-gate;
#X obj 735 669 sel 1;
#X obj 735 714 switch~;
#X msg 735 690 1;
#X obj 12 81 list prepend;
#X obj 12 102 route 1;
#X obj 151 59 clip 0 127;
#X obj 151 80 t f f;
#X obj 151 186 s \$0-gate;
#X obj 12 123 s \$0-midi;
#X obj 12 144 r \$0-midi;
#X obj 12 165 mtof;
#X obj 12 186 s \$0-freq;
#X obj 81 60 r \$0-gate;
#X obj 178 101 sel 0;
#X obj 205 122 - 1;
#X obj 205 164 s \$0-vel;
#X obj 667 635 env~ 4096;
#X obj 667 656 change;
#X obj 667 677 sel 0;
#X obj 363 130 r \$0-midi;
#X obj 378 214 - 100;
#X obj 378 193 random 201;
#X obj 378 235 / 100;
#X obj 363 340 mtof~;
#X obj 363 277 +;
#X obj 570 204 r \$0-gate;
#X obj 570 266 line~;
#X obj 422 282 *~;
#X msg 667 698 0;
#X obj 378 151 r \$0-gate;
#X obj 378 172 sel 1;
#X obj 570 225 sel 1;
#X msg 570 245 0 \, 1 1000;
#X obj 363 298 sig~;
#X obj 687 245 t f b;
#X obj 687 266 f;
#X obj 638 229 t f f;
#X obj 638 261 f;
#X obj 638 282 -;
#X obj 638 208 r \$0-freq;
#X obj 638 303 abs;
#X obj 638 345 min 100;
#X obj 363 361 lop~;
#X obj 638 324 * 2;
#X obj 422 219 noise~;
#X obj 422 240 bp~ 4 100;
#X obj 422 261 *~ 250;
#X obj 363 319 +~;
#N canvas 781 365 972 623 impulse 0;
#N canvas 0 22 450 300 pinknoise 0;
#X obj 12 78 noise~;
#X obj 121 94 *~ 0.099046;
#X text 149 72 b0;
#X text 267 73 b1;
#X text 367 72 b2;
#X obj 241 94 *~ 0.296516;
#X obj 341 94 *~ 1.05269;
#X obj 12 152 +~;
#X obj 12 173 +~;
#X obj 12 126 *~ 0.1848;
#X obj 12 194 +~;
#X obj 12 237 outlet~;
#X text 142 192 http://www.firstpr.com.au/dsp/pink-noise/;
#X obj 12 215 *~ 0.2;
#X obj 154 115 sig~ 0.99765;
#X obj 274 115 sig~ 0.963;
#X obj 374 115 sig~ 0.57;
#X obj 121 136 rpole~;
#X obj 241 136 rpole~;
#X obj 341 136 rpole~;
#X text 142 212 Paul Kellet's economy method:;
#X text 142 232 b0 = 0.99765 * b0 + white * 0.099046 \;;
#X text 142 252 b1 = 0.963 * b1 + white * 0.296516 \;;
#X text 142 272 b2 = 0.57 * b2 + white * 1.05269 \;;
#X text 142 292 tmp = b0 + b1 + b2 + white * 0.1848 \;;
#X text 12 257 (01) Output;
#X obj 48 31 inlet;
#X obj 48 52 t a b;
#X msg 75 120 clear;
#X text 48 11 (I1) Reset noise's seed and filter's state;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 0 0 6 0;
#X connect 0 0 9 0;
#X connect 1 0 17 0;
#X connect 5 0 18 0;
#X connect 6 0 19 0;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 9 0 7 0;
#X connect 10 0 13 0;
#X connect 13 0 11 0;
#X connect 14 0 17 1;
#X connect 15 0 18 1;
#X connect 16 0 19 1;
#X connect 17 0 7 1;
#X connect 18 0 8 1;
#X connect 19 0 10 1;
#X connect 26 0 27 0;
#X connect 27 0 0 0;
#X connect 27 1 28 0;
#X connect 28 0 17 0;
#X connect 28 0 19 0;
#X connect 28 0 18 0;
#X restore 330 197 pd pinknoise;
#X obj 389 218 inlet~;
#X obj 330 533 *~;
#X obj 600 407 r \$0-freq;
#X msg 600 428 1000 \$1;
#X obj 600 449 /;
#X obj 525 517 vline~;
#X obj 585 470 f;
#X obj 585 365 r \$0-gate;
#X obj 585 386 sel 0;
#X msg 585 491 0 \$1;
#X obj 330 575 outlet~;
#X obj 330 297 *~;
#X obj 345 255 sig~ 1;
#X obj 345 276 -~;
#X obj 330 402 lop~;
#X obj 351 339 r \$0-freq;
#X obj 351 381 min 2000;
#X obj 797 34 r \$0-vel;
#X msg 797 97 2 \$1;
#X obj 797 118 pow;
#X obj 797 55 pow 2;
#X obj 525 344 r \$0-vel;
#X msg 525 428 2 \$1;
#X msg 525 365 1 \$1;
#X obj 525 386 -;
#N canvas 857 619 474 233 fi.comb-filter 0;
#X obj 22 87 delwrite~ \$0-comb 100;
#X obj 12 153 -~;
#X obj 12 31 block~ 1 1 1;
#X obj 12 61 inlet~;
#X obj 12 195 outlet~;
#X obj 168 116 delread4~ \$0-comb;
#X obj 168 74 sig~ 1000;
#X obj 168 95 /~;
#X obj 236 79 inlet~;
#X obj 12 132 *~ 0.7;
#X obj 168 137 *~ 0.3;
#X connect 1 0 4 0;
#X connect 3 0 0 0;
#X connect 3 0 9 0;
#X connect 5 0 10 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 8 0 7 1;
#X connect 9 0 1 0;
#X connect 10 0 1 1;
#X restore 330 318 pd fi.comb-filter;
#X obj 429 276 r \$0-freq;
#X obj 525 449 pow;
#X obj 429 297 * 3;
#X obj 413 386 sig~ 2;
#X obj 413 407 pow~;
#X obj 330 423 *~;
#X obj 463 349 osc~ 0.8;
#X obj 389 239 phasor~;
#X obj 440 223 r \$0-freq;
#N canvas 0 22 450 300 highpass 0;
#X obj 62 31 inlet;
#X obj 156 31 inlet;
#X obj 62 131 * 6.28319;
#X obj 62 152 /;
#X obj 242 15 loadbang;
#X obj 269 136 samplerate~;
#X obj 123 161 max 5.96046e-08;
#X obj 155 189 cos;
#X obj 137 331 pack f f f f f f;
#X obj 226 284 / 2;
#X obj 155 236 * -2;
#X obj 62 243 t f f;
#X msg 89 264 1 \$1;
#X obj 89 285 -;
#X obj 62 285 + 1;
#X obj 188 237 + 1;
#X obj 188 284 * -1;
#X obj 62 89 f;
#X obj 156 73 t b f;
#X obj 62 201 sin;
#X obj 62 222 /;
#X obj 123 206 * 2;
#X obj 62 173 t f f;
#X obj 188 258 t f f;
#X obj 226 305 t f f;
#X obj 155 210 t f f;
#X msg 137 352 \$2 \$3 \$4 \$5 \$6 \$1;
#X obj 137 373 unpack f f f f f f;
#X obj 137 425 /;
#X obj 167 425 /;
#X obj 197 425 /;
#X obj 227 425 /;
#X obj 257 425 /;
#X obj 137 451 pack f f f f f;
#X obj 137 399 * -1;
#X obj 167 399 * -1;
#X text 247 331 a0 a1 a2 b0 b1 b2;
#X obj 12 467 biquad~;
#X obj 289 430 inlet;
#X msg 289 451 clear;
#X obj 12 446 inlet~;
#X obj 12 488 outlet~;
#X obj 62 110 clip 20 20000;
#X text 289 410 Reinitialize internal state;
#X text 12 508 Output;
#X text 12 426 Input;
#X text 62 11 Frequency(Hz);
#X text 156 11 Resonance(Q);
#X obj 62 52 f \$1;
#X obj 156 52 f \$2;
#X obj 242 36 t b b;
#X connect 0 0 48 0;
#X connect 1 0 49 0;
#X connect 2 0 3 0;
#X connect 3 0 22 0;
#X connect 4 0 50 0;
#X connect 5 0 3 1;
#X connect 6 0 21 0;
#X connect 7 0 25 0;
#X connect 8 0 26 0;
#X connect 9 0 24 0;
#X connect 10 0 8 1;
#X connect 11 0 14 0;
#X connect 11 1 12 0;
#X connect 12 0 13 0;
#X connect 13 0 8 2;
#X connect 14 0 8 0;
#X connect 15 0 23 0;
#X connect 16 0 8 4;
#X connect 17 0 42 0;
#X connect 18 0 17 0;
#X connect 18 1 6 0;
#X connect 19 0 20 0;
#X connect 20 0 11 0;
#X connect 21 0 20 1;
#X connect 22 0 19 0;
#X connect 22 1 7 0;
#X connect 23 0 16 0;
#X connect 23 1 9 0;
#X connect 24 0 8 3;
#X connect 24 1 8 5;
#X connect 25 0 10 0;
#X connect 25 1 15 0;
#X connect 26 0 27 0;
#X connect 27 0 34 0;
#X connect 27 1 35 0;
#X connect 27 2 30 0;
#X connect 27 3 31 0;
#X connect 27 4 32 0;
#X connect 27 5 32 1;
#X connect 27 5 31 1;
#X connect 27 5 30 1;
#X connect 27 5 29 1;
#X connect 27 5 28 1;
#X connect 28 0 33 0;
#X connect 29 0 33 1;
#X connect 30 0 33 2;
#X connect 31 0 33 3;
#X connect 32 0 33 4;
#X connect 33 0 37 0;
#X connect 34 0 28 0;
#X connect 35 0 29 0;
#X connect 37 0 41 0;
#X connect 38 0 39 0;
#X connect 39 0 37 0;
#X connect 40 0 37 0;
#X connect 42 0 2 0;
#X connect 48 0 17 0;
#X connect 49 0 18 0;
#X connect 50 0 49 0;
#X connect 50 0 48 0;
#X connect 50 1 5 0;
#X restore 330 507 pd highpass;
#X obj 382 465 loadbang;
#X obj 351 444 r \$0-freq;
#X obj 508 146 lop~;
#X msg 382 486 0.4;
#X obj 389 260 lop~;
#X obj 330 554 /~ 2;
#X msg 525 491 1 \$1;
#X obj 544 172 r \$0-gate;
#X obj 544 193 sel 1;
#X obj 544 214 random 101;
#X obj 544 235 / 100;
#X obj 440 244 * 4;
#X obj 351 360 * 6;
#X obj 525 407 * 3;
#X obj 351 465 / 2;
#X obj 543 277 + 0.5;
#X obj 544 256 * 0.5;
#X obj 525 470 * 10;
#X obj 797 139 * 50;
#X obj 463 370 /~ 2;
#X obj 463 391 +~ 0.5;
#X obj 797 76 * 2;
#X obj 463 412 *~ -1;
#X connect 0 0 12 0;
#X connect 1 0 34 0;
#X connect 2 0 42 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 7 1;
#X connect 6 0 2 1;
#X connect 7 0 10 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 6 0;
#X connect 12 0 26 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 32 0;
#X connect 16 0 49 0;
#X connect 17 0 15 1;
#X connect 18 0 21 0;
#X connect 19 0 20 0;
#X connect 20 0 55 0;
#X connect 21 0 58 0;
#X connect 22 0 24 0;
#X connect 23 0 28 0;
#X connect 24 0 25 0;
#X connect 25 0 50 0;
#X connect 26 0 15 0;
#X connect 27 0 29 0;
#X connect 28 0 54 0;
#X connect 29 0 26 1;
#X connect 30 0 31 0;
#X connect 31 0 32 1;
#X connect 32 0 36 0;
#X connect 33 0 56 0;
#X connect 34 0 41 0;
#X connect 35 0 48 0;
#X connect 36 0 39 0;
#X connect 37 0 40 0;
#X connect 38 0 51 0;
#X connect 39 0 2 0;
#X connect 40 0 36 2;
#X connect 41 0 14 1;
#X connect 42 0 11 0;
#X connect 43 0 6 0;
#X connect 44 0 45 0;
#X connect 45 0 46 0;
#X connect 46 0 47 0;
#X connect 47 0 53 0;
#X connect 48 0 41 1;
#X connect 49 0 17 0;
#X connect 50 0 23 0;
#X connect 51 0 36 1;
#X connect 52 0 33 0;
#X connect 53 0 52 0;
#X connect 54 0 43 0;
#X connect 55 0 39 1;
#X connect 56 0 57 0;
#X connect 57 0 59 0;
#X connect 58 0 19 0;
#X connect 59 0 31 1;
#X restore 365 425 pd impulse;
#X obj 657 614 *~ 1;
#X obj 205 143 / 126;
#X obj 422 303 /~ 6;
#X obj 378 256 * 0.1;
#X connect 0 0 55 0;
#X connect 1 0 13 0;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 4 1 11 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 12 1 19 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 18 0 9 1;
#X connect 19 1 20 0;
#X connect 20 0 56 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 34 0;
#X connect 25 0 30 0;
#X connect 26 0 28 0;
#X connect 27 0 26 0;
#X connect 28 0 58 0;
#X connect 29 0 48 0;
#X connect 30 0 39 0;
#X connect 31 0 37 0;
#X connect 32 0 33 1;
#X connect 33 0 57 0;
#X connect 34 0 7 0;
#X connect 35 0 36 0;
#X connect 36 0 27 0;
#X connect 37 0 38 0;
#X connect 38 0 32 0;
#X connect 39 0 53 0;
#X connect 40 0 41 1;
#X connect 40 1 41 0;
#X connect 41 0 44 1;
#X connect 42 0 43 0;
#X connect 42 1 40 0;
#X connect 43 0 44 0;
#X connect 44 0 46 0;
#X connect 45 0 42 0;
#X connect 46 0 49 0;
#X connect 47 0 48 1;
#X connect 48 0 54 0;
#X connect 48 0 0 1;
#X connect 49 0 47 0;
#X connect 50 0 51 0;
#X connect 51 0 52 0;
#X connect 52 0 33 0;
#X connect 53 0 29 0;
#X connect 54 0 0 0;
#X connect 55 0 2 0;
#X connect 55 0 22 0;
#X connect 56 0 21 0;
#X connect 57 0 53 1;
#X connect 58 0 30 1;
